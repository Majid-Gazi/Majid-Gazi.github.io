<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Majid Gazi | Digital Alchemy</title>
    
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <!-- Premium Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500&family=Syncopate:wght@400;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Syncopate', 'sans-serif'],
                    },
                    colors: {
                        black: '#000000',
                        offBlack: '#080808',
                        white: '#ffffff',
                        silver: '#A1A1AA',
                    },
                    letterSpacing: {
                        tightest: '-.075em',
                        tighter: '-.05em',
                        widest: '.25em',
                    }
                }
            }
        }
    </script>

    <style>
        /* Global Reset & Base */
        html.lenis { height: auto; }
        .lenis.lenis-smooth { scroll-behavior: auto !important; }
        .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
        .lenis.lenis-stopped { overflow: hidden; }
        .lenis.lenis-scrolling iframe { pointer-events: none; }

        body {
            background-color: #000;
            color: #fff;
            overflow-x: hidden;
            cursor: none; /* Hide default cursor */
        }

        /* Grain Overlay */
        .grain {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.07'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 50;
            opacity: 0.4;
        }

        /* Custom Cursor */
        #cursor-outer {
            position: fixed;
            top: 0; left: 0; width: 40px; height: 40px;
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transition: width 0.3s, height 0.3s, background-color 0.3s;
            mix-blend-mode: difference;
        }
        #cursor-inner {
            position: fixed;
            top: 0; left: 0; width: 6px; height: 6px;
            background: #fff;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
        }

        /* Typography Utility */
        .stroke-text {
            -webkit-text-stroke: 1px rgba(255,255,255,0.1);
            color: transparent;
        }
        .clip-text-image {
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            background-image: url('https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }

        /* WebGL Canvas container */
        #canvas-container {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            z-index: -1;
            opacity: 0.4;
        }

        /* Preloader */
        .preloader {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #000;
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .counter { font-family: 'Syncopate', sans-serif; font-size: 4rem; font-weight: 700; }
    </style>
</head>
<body class="antialiased selection:bg-white selection:text-black">

    <!-- Preloader -->
    <div class="preloader">
        <div class="counter text-white">0</div>
    </div>

    <!-- Custom Cursor -->
    <div id="cursor-outer" class="hidden md:block"></div>
    <div id="cursor-inner" class="hidden md:block"></div>

    <!-- Background Visuals -->
    <div class="grain"></div>
    <div id="canvas-container"></div>

    <!-- Navbar -->
    <nav class="fixed top-0 w-full p-8 flex justify-between items-center mix-blend-difference z-40 text-white uppercase">
        <a href="#" class="text-xl font-bold tracking-tighter hover-trigger" data-magnetic>
            M<span class="hidden md:inline">ajid</span> G<span class="hidden md:inline">azi</span>.
        </a>
        <div class="hidden md:flex gap-10 text-xs tracking-[0.2em] font-medium">
            <a href="#work" class="hover-trigger relative group overflow-hidden pb-1" data-magnetic>
                <span class="block group-hover:-translate-y-[150%] transition-transform duration-500">Projects</span>
                <span class="absolute top-0 left-0 translate-y-[150%] group-hover:translate-y-0 transition-transform duration-500 text-gray-400">Projects</span>
            </a>
            <a href="#about" class="hover-trigger relative group overflow-hidden pb-1" data-magnetic>
                <span class="block group-hover:-translate-y-[150%] transition-transform duration-500">The Vibe</span>
                <span class="absolute top-0 left-0 translate-y-[150%] group-hover:translate-y-0 transition-transform duration-500 text-gray-400">The Vibe</span>
            </a>
        </div>
        <a href="mailto:hello@majidgazi.com" class="hover-trigger text-xs border border-white/30 rounded-full px-6 py-2 hover:bg-white hover:text-black transition-colors duration-300 tracking-widest" data-magnetic>
            Connect
        </a>
    </nav>

    <main class="relative w-full">
        <!-- Hero Section - FIXED: GAZI text is now white like MAJID -->
        <section class="min-h-screen flex items-center justify-center px-4 relative">
            <div class="text-center z-10 mix-blend-difference">
                <div class="overflow-hidden mb-2">
                    <h2 class="hero-text-small text-sm md:text-lg text-gray-400 font-sans tracking-widest uppercase">
                        Creative Developer &amp; Visualist
                    </h2>
                </div>
                <div class="overflow-hidden">
                    <h1 class="hero-text-large text-7xl md:text-[12rem] font-display font-bold leading-none tracking-tighter text-white">
                        MAJID
                    </h1>
                </div>
                <div class="overflow-hidden">
                    <!-- CHANGED: Removed stroke-text class and added text-white to make GAZI visible and white -->
                    <h1 class="hero-text-large text-7xl md:text-[12rem] font-display font-bold leading-none tracking-tighter text-white">
                        GAZI
                    </h1>
                </div>
                <p class="hero-text-sub text-gray-500 max-w-md mx-auto mt-8 text-sm font-mono tracking-wide">
                    [vibe-coder.init] — Designing digital interfaces with soul, logic, and immersive interaction.
                </p>
            </div>
            
            <div class="absolute bottom-8 left-8 animate-bounce">
                <span class="font-mono text-[10px] text-white/50 tracking-widest uppercase">Scroll Down</span>
            </div>
        </section>

        <!-- Rest of your content remains the same -->
        <!-- Manifesto Section -->
        <section id="about" class="py-32 px-6 md:px-20 w-full max-w-[1400px] mx-auto border-t border-white/5">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-20">
                <div class="reveal-trigger">
                    <p class="font-mono text-silver text-xs uppercase mb-6 tracking-widest">[ Philosophy ]</p>
                    <h2 class="text-4xl md:text-7xl font-sans font-light leading-[1.1] tracking-tight text-white mb-10">
                        Self-taught.<br>
                        Obsessive.<br>
                        <span class="italic text-gray-500 font-serif">Driven by "The Vibe".</span>
                    </h2>
                </div>
                <div class="flex flex-col justify-end reveal-trigger pt-10">
                    <p class="text-lg text-gray-400 font-light leading-relaxed mb-8 max-w-md">
                        Conventional code builds websites. Vibe coding creates <strong class="text-white font-medium">atmospheres</strong>. I bridge the gap between raw engineering and fluidity, ensuring that every scroll, click, and hover tells a story.
                    </p>
                    <div class="grid grid-cols-2 gap-8 mt-8 border-t border-white/10 pt-8">
                        <div>
                            <span class="block text-4xl font-display mb-2">4+</span>
                            <span class="text-xs font-mono text-gray-500 uppercase">Years experimenting</span>
                        </div>
                        <div>
                            <span class="block text-4xl font-display mb-2">100%</span>
                            <span class="text-xs font-mono text-gray-500 uppercase">Self-Made</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Horizontal Gallery / Projects -->
        <section id="work" class="py-24 overflow-hidden bg-offBlack border-y border-white/10">
            <div class="px-6 md:px-20 mb-16 flex justify-between items-end">
                <h3 class="text-5xl md:text-8xl font-display font-bold text-white tracking-tighter">SELECTED<br>WORKS</h3>
                <p class="text-right font-mono text-xs text-gray-500">[ 2023 — 2024 ]</p>
            </div>

            <!-- Hover Projects -->
            <div class="project-list max-w-[1400px] mx-auto px-6 md:px-20">
                <!-- Project 01 -->
                <div class="group hover-trigger border-t border-white/10 py-12 flex flex-col md:flex-row justify-between items-center transition-all duration-500 hover:bg-white/5 cursor-none" data-cursor-text="VIEW">
                    <div class="mb-4 md:mb-0 relative z-10 mix-blend-difference">
                        <span class="font-mono text-purple-400 text-xs mb-2 block">01 / Fintech</span>
                        <h4 class="text-4xl md:text-6xl font-sans font-semibold tracking-tight group-hover:translate-x-4 transition-transform duration-500">Nexus Ledger</h4>
                    </div>
                    <div class="flex gap-4 opacity-20 group-hover:opacity-100 transition-opacity duration-500 font-mono text-xs">
                        <span class="border border-white px-3 py-1 rounded-full">REACT</span>
                        <span class="border border-white px-3 py-1 rounded-full">THREE.JS</span>
                    </div>
                </div>

                <!-- Project 02 -->
                <div class="group hover-trigger border-t border-white/10 py-12 flex flex-col md:flex-row justify-between items-center transition-all duration-500 hover:bg-white/5 cursor-none" data-cursor-text="VIEW">
                    <div class="mb-4 md:mb-0 relative z-10 mix-blend-difference">
                        <span class="font-mono text-purple-400 text-xs mb-2 block">02 / E-Commerce</span>
                        <h4 class="text-4xl md:text-6xl font-sans font-semibold tracking-tight group-hover:translate-x-4 transition-transform duration-500">Onyx Fashion</h4>
                    </div>
                    <div class="flex gap-4 opacity-20 group-hover:opacity-100 transition-opacity duration-500 font-mono text-xs">
                        <span class="border border-white px-3 py-1 rounded-full">SHOPIFY</span>
                        <span class="border border-white px-3 py-1 rounded-full">WEBGL</span>
                    </div>
                </div>

                <!-- Project 03 -->
                <div class="group hover-trigger border-t border-white/10 border-b py-12 flex flex-col md:flex-row justify-between items-center transition-all duration-500 hover:bg-white/5 cursor-none" data-cursor-text="LISTEN">
                    <div class="mb-4 md:mb-0 relative z-10 mix-blend-difference">
                        <span class="font-mono text-purple-400 text-xs mb-2 block">03 / Audio API</span>
                        <h4 class="text-4xl md:text-6xl font-sans font-semibold tracking-tight group-hover:translate-x-4 transition-transform duration-500">Sonic Vibe</h4>
                    </div>
                    <div class="flex gap-4 opacity-20 group-hover:opacity-100 transition-opacity duration-500 font-mono text-xs">
                        <span class="border border-white px-3 py-1 rounded-full">JAVASCRIPT</span>
                        <span class="border border-white px-3 py-1 rounded-full">CANVAS</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Scrolling Stack Marquee -->
        <section class="py-20 bg-black overflow-hidden">
            <div class="rotate-2 scale-110">
                <div class="marquee-wrapper flex gap-8 w-[200vw]">
                    <h1 class="text-8xl md:text-[10rem] font-display font-bold stroke-text whitespace-nowrap uppercase opacity-30">
                        NextJS Typescript GSAP WebGL Node Python Design Physics —
                    </h1>
                    <h1 class="text-8xl md:text-[10rem] font-display font-bold stroke-text whitespace-nowrap uppercase opacity-30">
                        NextJS Typescript GSAP WebGL Node Python Design Physics —
                    </h1>
                </div>
            </div>
        </section>

        <!-- Contact -->
        <section class="h-screen flex items-center justify-center relative px-6">
            <div class="text-center">
                <p class="text-sm font-mono text-gray-500 uppercase tracking-widest mb-6">What's Next?</p>
                <h2 class="text-6xl md:text-9xl font-bold mb-10 font-display hover:text-transparent hover:bg-clip-text hover:bg-gradient-to-r hover:from-white hover:to-gray-500 transition-all duration-500 cursor-none hover-trigger" data-magnetic data-cursor-text="EMAIL">
                    <a href="mailto:hello@majidgazi.com">LET'S TALK</a>
                </h2>
                <div class="flex justify-center gap-10 mt-10">
                    <a href="#" class="text-sm border-b border-transparent hover:border-white pb-1 transition-all font-mono uppercase text-gray-400 hover:text-white">Twitter</a>
                    <a href="#" class="text-sm border-b border-transparent hover:border-white pb-1 transition-all font-mono uppercase text-gray-400 hover:text-white">LinkedIn</a>
                    <a href="#" class="text-sm border-b border-transparent hover:border-white pb-1 transition-all font-mono uppercase text-gray-400 hover:text-white">Github</a>
                </div>
            </div>
            
            <footer class="absolute bottom-10 w-full text-center text-[10px] text-white/20 font-mono uppercase">
                &copy; 2024 Majid Gazi. Developed in the Void.
            </footer>
        </section>
    </main>

    <script>
        // --- 1. INIT & LOADING ---
        gsap.registerPlugin(ScrollTrigger);

        const preloader = document.querySelector('.preloader');
        const counter = document.querySelector('.counter');

        // Check if we're already loaded (for page refreshes)
        if (document.readyState === 'complete') {
            // Page already loaded, skip preloader
            preloader.style.display = 'none';
            initializePage();
        } else {
            // Simulated Loading Sequence
            let loadCount = 0;
            const loadingInterval = setInterval(() => {
                loadCount += Math.floor(Math.random() * 10) + 1;
                if (loadCount > 100) loadCount = 100;
                counter.innerHTML = loadCount + "%";
                
                if (loadCount === 100) {
                    clearInterval(loadingInterval);
                    startEntrance();
                }
            }, 40);
        }

        function startEntrance() {
            const tl = gsap.timeline();

            // Set initial positions for animation
            gsap.set(".hero-text-small", { yPercent: 100 });
            gsap.set(".hero-text-large", { yPercent: 110 });
            gsap.set(".hero-text-sub", { opacity: 0 });

            tl.to(counter, { y: -50, opacity: 0, duration: 0.5, ease: "power2.in" })
              .to(preloader, { yPercent: -100, duration: 1.2, ease: "power4.inOut" })
              .to(".hero-text-small", { yPercent: 0, duration: 1, ease: "power3.out" }, "-=0.5")
              .to(".hero-text-large", { yPercent: 0, duration: 1.5, ease: "power4.out", stagger: 0.1 }, "-=0.8")
              .to(".hero-text-sub", { opacity: 1, duration: 1, ease: "power2.out" }, "-=0.5")
              .call(initializePage); // Initialize the rest of the page after entrance
        }

        function initializePage() {
            // --- 2. SMOOTH SCROLL (Lenis) ---
            const lenis = new Lenis({
                duration: 1.2,
                easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
                direction: 'vertical',
                gestureDirection: 'vertical',
                smooth: true,
            });

            function raf(time) {
                lenis.raf(time);
                requestAnimationFrame(raf);
            }
            requestAnimationFrame(raf);

            // Sync GSAP with Lenis
            gsap.ticker.add((time) => {
                lenis.raf(time * 1000);
            });

            // --- 3. CUSTOM MOUSE & MAGNETIC EFFECT ---
            const cursorOuter = document.getElementById('cursor-outer');
            const cursorInner = document.getElementById('cursor-inner');
            let mouseX = 0, mouseY = 0;
            let cursorX = 0, cursorY = 0;

            if (cursorOuter && cursorInner) {
                window.addEventListener('mousemove', e => {
                    mouseX = e.clientX;
                    mouseY = e.clientY;
                    
                    // Move Inner Cursor instantly
                    gsap.set(cursorInner, { x: mouseX - 3, y: mouseY - 3 });
                });

                // Physics for Outer Cursor (Lag Effect)
                gsap.ticker.add(() => {
                    const dt = 1.0 - Math.pow(1.0 - 0.15, gsap.ticker.deltaRatio());
                    cursorX += (mouseX - cursorX) * dt;
                    cursorY += (mouseY - cursorY) * dt;
                    gsap.set(cursorOuter, { x: cursorX - 20, y: cursorY - 20 });
                });

                // Magnetic Elements & Hover States
                const magneticElements = document.querySelectorAll('[data-magnetic]');
                
                magneticElements.forEach((el) => {
                    el.addEventListener('mousemove', (e) => {
                        const rect = el.getBoundingClientRect();
                        const x = e.clientX - rect.left - rect.width / 2;
                        const y = e.clientY - rect.top - rect.height / 2;

                        // Move element slightly towards mouse
                        gsap.to(el, { x: x * 0.3, y: y * 0.3, duration: 0.5, ease: "power2.out" });
                        // Scale cursor up
                        gsap.to(cursorOuter, { scale: 1.5, opacity: 0.5, duration: 0.3 });
                    });

                    el.addEventListener('mouseleave', () => {
                        gsap.to(el, { x: 0, y: 0, duration: 0.8, ease: "elastic.out(1, 0.3)" });
                        gsap.to(cursorOuter, { scale: 1, opacity: 1, duration: 0.3 });
                    });
                });

                // Change cursor on Hover triggers
                document.querySelectorAll('.hover-trigger').forEach(el => {
                    el.addEventListener('mouseenter', (e) => {
                        cursorOuter.classList.add('scale-150', 'border-0', 'bg-white', 'mix-blend-difference');
                        cursorInner.classList.add('hidden');
                        
                        const text = el.getAttribute('data-cursor-text');
                        if (text) {
                            // Optional: Could insert text into cursor here
                        }
                    });
                    el.addEventListener('mouseleave', () => {
                        cursorOuter.classList.remove('scale-150', 'border-0', 'bg-white', 'mix-blend-difference');
                        cursorInner.classList.remove('hidden');
                    });
                });
            }

            // --- 4. THREE.JS BACKGROUND ---
            const container = document.getElementById('canvas-container');
            if (container && typeof THREE !== 'undefined') {
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                
                renderer.setSize(window.innerWidth, window.innerHeight);
                container.appendChild(renderer.domElement);

                // Create Particles
                const particlesGeometry = new THREE.BufferGeometry();
                const counts = 3000;
                const positions = new Float32Array(counts * 3);

                for (let i = 0; i < counts * 3; i++) {
                    positions[i] = (Math.random() - 0.5) * 15;
                }
                particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

                const particlesMaterial = new THREE.PointsMaterial({
                    size: 0.015,
                    color: 0x666666,
                });

                const particles = new THREE.Points(particlesGeometry, particlesMaterial);
                scene.add(particles);

                camera.position.z = 3;

                // Animate Particles
                let time = 0;
                
                function animateThree() {
                    requestAnimationFrame(animateThree);
                    time += 0.001;

                    particles.rotation.y += 0.0005;
                    
                    const positions = particles.geometry.attributes.position.array;
                    
                    for (let i = 0; i < counts; i++) {
                        const x = positions[i * 3];
                        const y = positions[i * 3 + 1];
                        positions[i * 3 + 1] = y + Math.sin(time + x * 0.5) * 0.002;
                    }
                    
                    particles.geometry.attributes.position.needsUpdate = true;

                    camera.position.x += (mouseX / window.innerWidth - 0.5 - camera.position.x) * 0.05;
                    camera.position.y += (-(mouseY / window.innerHeight) + 0.5 - camera.position.y) * 0.05;

                    renderer.render(scene, camera);
                }

                animateThree();

                window.addEventListener('resize', () => {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                });
            }

            // --- 5. MARQUEE ANIMATION ---
            const marqueeWrapper = document.querySelector(".marquee-wrapper");
            if (marqueeWrapper) {
                gsap.to(".marquee-wrapper", {
                    xPercent: -50,
                    repeat: -1,
                    duration: 20,
                    ease: "linear"
                });
            }

            // --- 6. SCROLL REVEALS ---
            const revealTriggers = gsap.utils.toArray('.reveal-trigger');
            if (revealTriggers.length > 0) {
                revealTriggers.forEach(elem => {
                    gsap.from(elem, {
                        scrollTrigger: {
                            trigger: elem,
                            start: "top 85%",
                        },
                        y: 50,
                        opacity: 0,
                        duration: 1.2,
                        ease: "power3.out"
                    });
                });
            }

            // --- 7. NAVBAR LINKS ---
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        lenis.scrollTo(targetElement);
                    }
                });
            });
        }

        // Initialize page if preloader is already hidden
        if (preloader.style.display === 'none') {
            initializePage();
        }

    </script>
</body>
</html>
